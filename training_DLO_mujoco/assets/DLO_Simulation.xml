<?xml version="1.0" ?>
<mujoco model="DLO_Simulation">
    <!-- Define default settings for the model -->
    <default>
        <joint damping="0.01" stiffness="0.5" />
        <geom type="capsule" size="0.01 0.05" rgba="0.8 0.2 0.2 1" density="250" friction="0.5" />
    </default>

    <!-- Define the world and gravity -->
    <option timestep="0.002" gravity="0 0 -9.81" iterations="50" integrator="RK4"/>

    <!-- Assets -->
    <asset>
        <!-- Include additional assets if needed -->
    </asset>

    <!-- Body of the DLO object -->
    <worldbody>
        <!-- Define the initial segment of the DLO -->
        <body name="segment_0" pos="0 0 0.1">
            <geom name="geom_0" type="capsule" size="0.01 0.05" rgba="0.8 0.2 0.2 1"/>
            <joint name="joint_0" type="free" />
        </body>

        <!-- Define each segment and its connection to the previous one -->
        <body name="DLO_chain">
            <!-- Loop to create a series of capsules connected by spherical joints -->
            {% for i in range(1, 25) %}
            <body name="segment_{{ i }}" pos="0 {{ i * 0.05 }} 0.1">
                <geom name="geom_{{ i }}" type="capsule" size="0.01 0.05" rgba="0.8 0.2 0.2 1" />
                <joint name="joint_{{ i }}" type="ball" limited="true" range="-90 90" damping="0.01" stiffness="0.1" />
                <!-- Attach to previous segment -->
                <connect parent="segment_{{ i - 1 }}" child="segment_{{ i }}" anchor="0 {{ (i-1) * 0.05 }} 0.1" />
            </body>
            {% endfor %}
        </body>
    </worldbody>

    <!-- Randomization parameters for Sim-to-Real transfer -->
    <custom>
        <range name="radius" min="0.01" max="0.013" />
        <range name="length" min="1.35" max="1.55" />
        <range name="stiffness" min="0.015" max="0.025" />
        <range name="friction" min="0.3" max="0.7" />
    </custom>
</mujoco>
